\documentclass[../main.tex]{subfiles}


\begin{document}


%\begin{center}
%\begin{tabularx}{\textwidth}{|1|X|}
\begin{longtable}{| p{.20\textwidth} | p{.80\textwidth} |} 

\hline
    Kratak opis &  Klijent vrši plaćanje treninga u teretani uz pomoć recepcionara tako što daje osnovne informacije, bira vrstu usluga i izjašnjava se za način plaćanja. Vrši se provera podataka, unose se izmene u sistem i klijent dobija povratnu informaciju o uspešnosti plaćanja.\\ 
\hline    
    Učesnici & 
    	\begin{enumerate}
        \item Klijent - Želi da plati članarinu. 
        \item Recepcionar
     \end{enumerate}\\
\hline
   Preduslovi & \begin{enumerate}
       \item Sistem je u funkciji.
       \item Recepcionar ima pristup sistemu i ulogovan je.
       \item Ukoliko klijent plaća karticom POS sistem je u fukciji.
       \item Veza sa bankom je u funkciji (ukoliko se plaća karticom).	
   \end{enumerate}\\
\hline  
    Postuslovi & 
         Baza podataka je ažurirana.
    \\
\hline
    Osnovni tok & \begin{enumerate}
        \item Klijent dolazi na recepciju i izjašnjava se da želi da plati članarinu.
        \item Recepcionar traži od klijenta člansku kartu, korisničko ime ili e-mail adresu.	
        \item Klijent daje recepcionaru člansku kartu, korisničko ime ili e-mail adresu.
        \item Recepcionar u sistemu vrši pretragu klijenta na osnovu broja članske karte, korisničkog imena ili e-mail adrese.
        \item Sistem otvara podatke za pronađenog klijenta.
        \item Recepcionar bira opciju „Unesi uplatu“. Pita klijenta koje usluge hoće da plati.
        \item Klijent se izjašnjava za usluge koje želi.
        \item Recepcionar obeležava izabrane usluge.
        \item Sistem ispisuje ukupnu cenu usluga.
        \item Recepcionar saopštava klijentu cenu.
        \item Klijent vrši plaćanje.
        \item Recepcionar zaključuje plaćanje.
        \item Sistem čuva promene i obaveštava da je nalog ažuriran.
        \item Sistem štampa račun.
        \item Recepcionar obaveštava klijenta da je uspešno uplaćena članarina i daje mu račun.
        \item Klijent odlazi sa računom.
    \end{enumerate}\\
\hline
    Alternativni tokovi & \begin{itemize}
        \item[A1] Pad sistema: Ukoliko u bilo kom koraku dođe do pada sistema potrebno je obezbediti da se sve transakcije mogu oporaviti.\begin{enumerate}
            \item Recepcionar resetuje sistem i bira oporavak sistema. Loguje se.
            \item Sistem rekonstruiše stanje koje je bilo.
            \item Recepcionar započinje proces plaćanja iz početka.
        \end{enumerate}
        \item[A5] Sistem registruje pogrešan br. članske karte, korisničko ime ili e-mail:  Sistem nije uspeo da pronađe klijenta. Slučaj se nastavlja na koraku 2.
        \item[A10.1] Klijent se predomislio oko usluga: Klijent obaveštava recepcionara da želi da promeni izbor. Slučaj se nastavlja na koraku 7.
        \item[A10.2] Klijent odustaje od uplate: Klijent obaveštava recepcionara da odustaje od uplate. Recepcionar bira opciju „Odustani od izmena“. Klijent odlazi. Slučaj se ovde završava.
        \item[A11.1] Klijent nema dovoljno sredstava za plaćanje: Ukoliko je u koraku 11 izabran način plaćanja za koji klijent nema sredstava bira se alternativni način plaćanja. Slučaj se nastavlja na koraku 11.
        \item[A11.2] Veza sa bankom nije uspostavljena: Ukoliko je u koraku 11 izabrano plaćanje karticom i veza sa bankom ne može da se uspostavi recepcionar obaveštava klijenta da mora da plati u gotovini. Slučaj se nastavlja u koraku 11.
    \end{itemize}\\
\hline
    Podtokovi & \begin{itemize}
        \item[11.1] Plaćanje gotovinom \begin{enumerate}
            \item Klijent predaje recepcionaru novac.
            \item Recepcionar prebrojava novac i unosi sumu u sistem.
            \item Sistem ispisuje koliki je kusur.
            \item Recepcionar vraća kusur, ukoliko ga ima.
        \end{enumerate} 
        \item[11.2] Plaćanje karticom \begin{enumerate}
            \item Recepcionar bira opciju za plaćanje karticom.
            \item Klijent daje karticu recepcionaru.
            \item Recepcionar prislanja ili ubacuje karticu u aparat.
            \item Sistem upravlja plaćanjem i traži unos pin koda.
            \item Klijent unosi pin kod.
            \item Sistem proverava informacije.
            \item Sistem beleži informacije o uplati.
            \item Recepcionar vraća karticu klijentu.	
        \end{enumerate}
    \end{itemize}\\
\hline
    Specijalni zahtevi & Teretana poseduje POS aparat.\\
\hline
    Dodatne informacije & /\\
\hline
%\end{tabularx}
\caption{Plaćanje uživo za registrovanog klijenta} % needs to go inside longtable environment
%\label{tab:myfirstlongtable}
\end{longtable}
%\end{center}  
\end{document}